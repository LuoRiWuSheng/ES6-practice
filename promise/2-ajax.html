<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		const getJSON = (url)=> {
			const promise = new Promise(function (resolve, reject) {
			
				const handle = function () {
					if (this.readyState !== 4) {
						return
					}
					
					if (this.status === 200) {
					
						resolve(this.response)
					} else {
						reject(new Error(this.statusText))
					}
				}
			
				const client = new XMLHttpRequest()
				client.open('GET', url)
				client.onreadystatechange = handle
				client.responseType = 'json'
				client.setRequestHeader('Accept', 'application/json')
				client.send()
			})
			
		
		
			return promise
		}
		
		getJSON('./data/test.json').then(value=> {
			console.log('数据-->', value)
		},error => {
			console.error('报错', error)
		})
	
	</script>
</html>
